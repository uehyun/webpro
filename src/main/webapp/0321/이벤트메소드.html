<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/mystyle.css">
<script type="text/javascript" src="../js/jquery-3.6.4.min.js"></script>
<script type="text/javascript">
$(function(){
// 	$('#btn1').bind('click', function(){
// 	})
// 	$('#btn1').click(function(){ 
// 	})

	$('#btn1').on('click', function(){
		ptag = "<p class='pp'>Hello</p>";
		$('#result1').append(ptag); // on = bind 
	})
	
	$('#btn2').on('click', function(){
		$('#btn1').off('click'); // off = unbind
		
	})
	
	$('#btn3').one('click', function(){
		ptag = "<p class='pp'>Hello</p>";
		$('#result3').append(ptag); 
	})
	
	// bind형식의 이벤트 핸들러 이기때문에 새롭게 만들어진 요소에는 적용되지 않는다.
// 	$('.pp').on('click', function(){
// 		alert("pp");
// 	})
	
	// 새롭게 만들어진 요소의 이벤트 핸들러 작성
	// delegate방식
// 	$(document).delegate('.pp', 'click', function(){})
		
	// bind방식
	$(document).on('click', '.pp', function(){
		cr = parseInt(Math.random() * 256);
		cg = parseInt(Math.random() * 256);
		cb = parseInt(Math.random() * 256);
		
		cr16 = cr.toString(16);
		cg16 = cg.toString(16);
		cb16 = cb.toString(16);
		
		$(this).css('background', '#'+cr16+cg16+cb16);
	})
	
	$('#pclear').on('click', function(){
		// 새로만들어진 p태그의 이벤트 핸들러를 제거
		$(document).off('click', '.pp');
// 		$('#result1 .pp').removeAttr('style');
	})
		
})
</script>
</head>
<body>

	<div class="box">
		<p>
		버튼 클릭시 &lt;p>태그를 생성하여 result에 추가 한다.<br>
		이벤트종료 버튼 클릭 시 더이상 클릭이벤트 핸들러는 작동하지 않는다.<br>
		</p>
		
		<input type="button" value="클릭" id="btn1">
		<input type="button" value="이벤트종료" id="btn2">
		<br><br>
		<div class="result" id="result1">
		새롭게 만들어진 요소의 이벤트 핸들러 작성 시 delegate방식으로 처리<br>
		$(document).on('click', '.pp', function(){ })
		<input type="button" value="p클릭해제" id="pclear">
		</div>
	</div>

	<div class="box">
		<p>
		버튼 클릭시 &lt;p>태그를 생성하여 result3에 추가 한다.
		한번만 실행되도록 한다.
		</p>
		
		<input type="button" value="클릭" id="btn3"><br><br>
		<div class="result" id="result3"></div>
	</div>
</body>
</html>