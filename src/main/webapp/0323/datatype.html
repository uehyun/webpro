<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/mystyle.css">
<script type="text/javascript" src="../js/jquery-3.6.4.min.js"></script>
<script type="text/javascript">
xhr = new XMLHttpRequest();
$(function(){
	$('#txt').on('click',function(){
		$.get(
				'http://localhost/jqpro/0322/text.jsp',
				function(res){
				vres = res.split("/");
				
				code = "<ul>";
				$.each(vres, function(i){
				code += "<li>" + vres[i] + "</li>";
				})
				
				code += "</ul>";
			
				$('#result1').html(code);
				},
				'text');
		
// 		$.ajax({ 
// 			// 요청
// 			url : 'http://localhost/jqpro/0322/text.jsp',
// 			type : 'get',
			
// 			// 응답 res = 응답데이터(datatype: text)
// 			success : function(res){
// 				vres = res.split("/");
// 				code = "<ul>";
// 				$.each(vres, function(i){
// 					code += "<li>" + vres[i] + "</li>";
// 				})
// 				code += "</ul>";
				
// 				$('#result1').html(code);
// 			},
// 			error : function(xhr){
// 				alert("상태 : " + xhr.status);
// 			},
// 			dataType : 'text'
// 		})
	})
	
	$('#jarr').on('click',function(){
		$.ajax({
			url : 'http://localhost/jqpro/0322/jsonArr.jsp',
			type : 'get',
			success : function(res){
				code = "<ol>";
				$.each(res,function(i, v){
					code += `<li> ${v} </li>`;
				})
				code += "</ol>";
				$('#result2').html(code);
			},
			error : function(xhr){
				alert("상태 : " + xhr.status);
			},
			dataType : 'json'
		})
		
	})
	
	$('#jobj').on('click',function(){
		$.ajax({
			url : 'http://localhost/jqpro/0322/jsonObj.jsp',
			type : 'get',
			success : function(res){
				code = `아이디 : ${res.id} <br>`;
				code += `이름 : ${res.name} <br>`;
				code += "전화번호 : " + res.tel + "<br>";
				code += "주소 : " + res.addr + "<br>";
				
				$('#result3').html(code);
			},
			error : function(xhr){
				alert("상태 : " + xhr.status);
			},
			dataType : 'json'
		})
	})
	
	$('#jobarr').on('click',function(){
		$.ajax({
			url : 'http://localhost/jqpro/0322/jsonObarr.jsp',
			type : 'get',
			success : function(res){
				code = ``;
				$.each(res,function(i){
				code += `${(i+1)} 번째 회원 정보<br>`;
				code += `아이디 : ${res[i].id} <br>`;
				code += `이름 : ${res[i].name} <br>`;
				code += `전화번호 : ${res[i].tel} <br>`;
				code += `주소 : ${res[i].addr}<br>`;
				code += `-------------------------------<br>`;
				})
				$('#result4').html(code);
			},
			error : function(xhr){
				alert("상태 : " + xhr.status);
			},
			dataType : 'json'
		})
		
	})
})


</script>
<style>
div.box {
	height : auto;
}
#result {
	box-sizing: border-box;
	width : 95%;
	display : flex;
	flex-wrap : wrap; 
	height : 80%;
}
#result div {
	border : 1px solid blue;
	padding : 10px;
	margin : 5px;
	flex : 1;
	width : 300px;
}
</style>
</head>
<body>

	<div class="box">
		<p>
		</p>
		<input type="button" value="text" id="txt">
		<input type="button" value="json배열" id="jarr">
		<input type="button" value="jsonObject" id="jobj">
		<input type="button" value="jsonObj배열" id="jobarr">
		
		<br><br>
		
		<div id="result">
			<div class="result" id="result1"></div>
			<div class="result" id="result2"></div>
			<div class="result" id="result3"></div>
			<div class="result" id="result4"></div>
		</div>
	</div>
</body>
</html>